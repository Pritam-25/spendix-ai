<div align="center">

# Spendix ‚Äî AI-Powered Personal Finance Management platform

AI powered personal finance management platform to track accounts, income, and expenses in one place, with transaction management, automated recurring payments, monthly budgets, spending dashboards, and a personal AI assistant for personalized, real-time insights based on user financial data.

### üîó [Live demo: spendix.app](https://spend-ix.app)

<h2 align="center">Tech Stack Used</h2>
</div>

<p align="center">
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/nextjs/nextjs-original.svg" alt="Next.js" height="48" style="margin:8px;" />
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/typescript/typescript-original.svg" alt="TypeScript" height="48" style="margin:8px;" />
  <img src="https://avatars.githubusercontent.com/u/139895814?s=200&v=4" alt="shadcn/ui" height="48" style="margin:8px; border-radius:12px;" />
  <img src="public/docs/Tailwind CSS.png" alt="Tailored CSS" height="48" style="margin:8px;" />
  <img src="https://raw.githubusercontent.com/colinhacks/zod/master/logo.svg" alt="Zod" height="48" style="margin:8px;" />
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/prisma/prisma-original.svg" alt="Prisma" height="48" style="margin:8px;" />
  <img src="https://cdn.jsdelivr.net/gh/devicons/devicon/icons/postgresql/postgresql-original.svg" alt="Neon + pgvector" height="48" style="margin:8px;" />
  <img src="public/docs/langchain.png" alt="LangChain" height="48" style="margin:8px;" />
    <img src="public/docs/langgraph-color.png" alt="LangGraph" height="48" style="margin:8px;" />
  <img src="https://cdn.brandfetch.io/idDpCfN4VD/w/400/h/400/theme/dark/icon.png?c=1bxid64Mup7aczewSAYMX&t=1759982772575" alt="Vercel AI SDK" height="48" style="margin:8px; border-radius:12px;" />
  <img src="public/docs/gemini-color.png" alt="Gemini" height="48" style="margin:8px;" />
  <img src="https://cdn.brandfetch.io/idK0lowSpn/w/400/h/400/theme/dark/icon.jpeg?c=1bxid64Mup7aczewSAYMX&t=1765345250251" alt="Inngest" height="48" style="margin:8px; border-radius:12px;" />
  <img src="https://cdn.brandfetch.io/idwI9Qq-AB/w/128/h/129/theme/dark/logo.png?c=1bxid64Mup7aczewSAYMX&t=1766936314312" alt="Arcjet" height="48" style="margin:8px; border-radius:12px; background:#ffffff;" />
</p>

<p align="center">Explore the Spendix dashboard layout at a glance.</p>

<div align="center">
    <img src="public/docs/dashboard-page.png" alt="Spendix dashboard view" style="max-width:100%; border-radius:16px; box-shadow:0 16px 32px rgba(15,23,42,0.2);" />
</div>

<h3 align="center">Schema Overview</h3>

<p align="center">
    <img src="public/docs/spendix schema.svg" alt="Spendix relational schema" width="880" style="border-radius:12px; box-shadow:0 16px 32px rgba(15,23,42,0.2);" />
    <br />
    <sub>Entity relationships powering accounts, budgets, AI memory, and plan entitlements.</sub>
</p>

## Plan Comparison

Higher tiers inherit every capability from the preceding plans, with premium-only rows called out explicitly.

<div align="center">

<table style="margin:0 auto;">
    <thead>
        <tr>
            <th>Feature</th>
            <th>Free</th>
            <th>Pro</th>
            <th>Premium</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td>Income &amp; expense tracking</td>
            <td>‚úÖ</td>
            <td>‚úÖ</td>
            <td>‚úÖ</td>
        </tr>
        <tr>
            <td>Monthly budget setup</td>
            <td>‚úÖ</td>
            <td>‚úÖ</td>
            <td>‚úÖ</td>
        </tr>
        <tr>
            <td>Search &amp; filter transactions</td>
            <td>‚úÖ</td>
            <td>‚úÖ</td>
            <td>‚úÖ</td>
        </tr>
        <tr>
            <td>AI receipt scan (3/month)</td>
            <td>‚úÖ</td>
            <td>‚úÖ</td>
            <td>‚úÖ</td>
        </tr>
        <tr>
            <td>Multiple accounts</td>
            <td>‚ùå</td>
            <td>‚úÖ</td>
            <td>‚úÖ</td>
        </tr>
        <tr>
            <td>Unlimited AI receipt scans</td>
            <td>‚ùå</td>
            <td>‚úÖ</td>
            <td>‚úÖ</td>
        </tr>
        <tr>
            <td>Recurring transactions</td>
            <td>‚ùå</td>
            <td>‚úÖ</td>
            <td>‚úÖ</td>
        </tr>
        <tr>
            <td>Budget alert emails</td>
            <td>‚ùå</td>
            <td>‚úÖ</td>
            <td>‚úÖ</td>
        </tr>
        <tr>
            <td>AI spending insights</td>
            <td>‚ùå</td>
            <td>‚úÖ</td>
            <td>‚úÖ</td>
        </tr>
        <tr>
            <td>AI finance chatbot</td>
            <td>‚ùå</td>
            <td>‚ùå</td>
            <td>‚úÖ</td>
        </tr>
        <tr>
            <td>AI bulk insert (statement or screenshot ingest)</td>
            <td>‚ùå</td>
            <td>‚ùå</td>
            <td>‚úÖ</td>
        </tr>
        <tr>
            <td>CSV, Excel &amp; PDF export</td>
            <td>‚ùå</td>
            <td>‚ùå</td>
            <td>‚úÖ</td>
        </tr>
    </tbody>
</table>

</div>

## Product Pillars

- **Unified Ledger Control** ‚Äî Multi-account books, high-fidelity CRUD, and tight reconciliation keep every inflow/outflow auditable.
- **AI-Assisted Imports** ‚Äî Gemini-powered parsing plus human-in-the-loop review accelerate bulk bank statement ingestion.
- **Recurring Cashflow Engine** ‚Äî Deterministic schedulers project subscriptions, loans, and bills into actionable calendars.
- **Budget Intelligence** ‚Äî Envelope-style tracking, alert thresholds, and visualizations surface overspend before it escalates.
- **Finance Copilot** ‚Äî Conversational agents grounded in private vector memory translate intents into secure actions.
- **Governed Access** ‚Äî Plan-aware UX, entitlement gating, and webhook-synced billing data keep monetization trustworthy.

## Feature Spotlight

### Subscription Intelligence

**Plan graphs**, **feature matrices**, and **plan-order logic** ensure every surface knows what a member can access. Clerk webhooks synchronize lifecycle events, while experience toggles automatically hide, disable, or upsell premium affordances.

### Recurring Transactions Engine

**Recurrence schemas** encode daily to custom cadences, while Inngest orchestrators expand those rules into dated invoices, autopay reminders, and monthly summaries. Optimistic UI states keep editing silky even before workers confirm the schedule.

### AI Imports & Bulk Bank Statements

A dedicated **AI imports workspace** combines drag-and-drop uploads, Gemini extraction, and LangChain tooling to normalize CSV, XLS, or PDF statements. **Duplicate guards** and semantic similarity checks protect the ledger before final commit.

#### Duplicate Receipt Protection (Import job id)

Each receipt import also generates a deterministic hash scoped by user ID, so the same document can never be reprocessed. When a match is detected, the workflow blocks the upload with the precise error message ‚Äúthis receipt has been converted to a transaction already.‚Äù

### Transactions Workspace

The **core ledger canvas** features rapid filters, inline edits, and a transaction drawer tuned for keyboard-first workflows. Zod-backed forms guarantee category, amount, and metadata integrity while delivering real-time totals and context chips.

### AI Finance Copilot

**Vercel AI Elements** drive a conversational surface that blends short-term context with long-term embeddings. LangGraph routes between analysis, insight, and action nodes so Spendix can summarize budgets, draft next steps, or queue transactions just by chatting.

<!-- <p align="center">
    <img src="public/docs/langraph%20workflow.png" alt="LangGraph workflow" width="880" style="border-radius:12px; box-shadow:0 16px 32px rgba(15,23,42,0.2);" />
    <br />
    <sub>Workflow showing how LangGraph agents branch between reasoning, memory refresh, and ledger actions.</sub>
</p> -->

```mermaid
---
config:
  theme: neo-dark
---
flowchart TB
    A([‚≠ò Start]) --> B([üí° Agent Node])
    B --> C{‚ùì Type of Question?}
    C -->|Direct Question| E([üèÅ End])
    C -->|Tool Needed| D([üõ† Tool Node])
    C -->|RAG / Memory Needed| M([üìö RAG Memory Node])
    D --> F{üîç Tool Exists?}
    F -->|Yes| G([‚ö° Run Tool & Return ToolMessage])
    F -->|No| H([‚ùå Return Error ToolMessage])
    G --> B
    H --> B
    M --> R{üîç RAG Tool Exists?}
    R -->|Yes| S([üìñ Fetch from Memory & Return Response])
    R -->|No| T([‚ùå Return Error Message])
    S --> B
    T --> B
    B --> E
    subgraph MemoryFlow["üß† MemoryGraph"]
        I([‚≠ò Start]) --> J([üìù Summarize Node])
        J --> K([üíæ Remember Node])
        K --> L([üèÅ End])
    end
    classDef circle fill:#1f2937,stroke:#3b82f6,stroke-width:2px,color:#ffffff;
    classDef square fill:#111827,stroke:#10b981,stroke-width:2px,color:#ffffff;
    class A,E,I,L circle;
    class B,D,M,G,H,S,T,J,K square;
```
<P align="center">
<sub>Workflow showing how LangGraph agents branch between reasoning, memory refresh, and ledger actions.</sub>
</p>

### Safeguards & Notifications

**Arcjet threat intelligence** filters abusive clients before API or server actions execute, while **Nodemailer alerts** broadcast budget breaches or anomaly pings with branded templates. Every sensitive route stays wrapped in authenticated, rate-limited handlers.

## System Architecture

<!-- <p align="center">
    <img src="public/docs/project-architecture.png" alt="Spendix relational schema" width="880" style="border-radius:12px; box-shadow:0 16px 32px rgba(15,23,42,0.2);" />
    <br />
    <sub>Small overview of System Architecture how data is flowing</sub>
</p> -->

```mermaid
flowchart LR
    subgraph Client
        UI[Next.js + shadcn/ui]
        AIAgent[Vercel AI Elements]
    end

    subgraph Edge
        Clerk[(Clerk Auth & Billing)]
        Arcjet[(Arcjet Shield)]
    end

    subgraph App
        Actions[Server Actions]
        API[Route Handlers]
        LangGraph[LangGraph Orchestrator]
    end

    subgraph Data
        Prisma[(Prisma ORM)]
        Neon[(Neon PostgreSQL + pgvector)]
    end

    subgraph Workers
        Inngest[(Inngest Cron & Events)]
        Nodemailer[(Email Alerts)]
    end

    UI --> Clerk --> Actions
    AIAgent --> LangGraph --> Prisma
    Actions --> Prisma --> Neon
    API --> Arcjet --> Actions
    Inngest --> Prisma
    Inngest --> Nodemailer
    LangGraph --> Inngest
```
<P align="center">
<sub>Small overview of System Architecture how data is flowing</sub>
</p>


- **Type Safety Everywhere** ‚Äî Shared schemas span forms, server actions, and persistence layers.
- **Vector Intelligence** ‚Äî pgvector-backed memory ensures AI answers are grounded in first-party data.
- **Event Sourcing** ‚Äî Inngest flows provide durable retries and idempotent ledger mutations.
- **Edge Hardening** ‚Äî Clerk verifies identity, Arcjet throttles anomalies, and secret rotation keeps ingress secure.

## Getting Started

### Prerequisites

- Node.js 20+, pnpm 9+.
- Neon PostgreSQL database with the `pgvector` extension enabled.
- Clerk application (publishable + secret keys, billing & webhook URLs).
- Gemini + Google API keys, Arcjet key, Inngest event + signing keys.
- SMTP credentials for Nodemailer (SES, Resend, custom SMTP, etc.).

### Installation

1. `pnpm install`
2. `pnpm prisma generate`
3. `pnpm exec prisma migrate deploy`
4. (Optional) `pnpm seed`
5. `pnpm dev`

### Example `.env`

```dotenv
NEXT_PUBLIC_CLERK_PUBLISHABLE_KEY=pk_test_xxxxx
CLERK_SECRET_KEY=sk_test_xxxxx
CLERK_WEBHOOK_SIGNING_SECRET=whsec_xxxxx
CLERK_BILLING_WEBHOOK_SIGNING_SECRET=whsec_xxxxx

NEXT_PUBLIC_CLERK_SIGN_IN_URL=/sign-in
NEXT_PUBLIC_CLERK_SIGN_IN_FALLBACK_REDIRECT_URL=/
NEXT_PUBLIC_CLERK_SIGN_UP_FALLBACK_REDIRECT_URL=/
NEXT_PUBLIC_APP_URL=http://localhost:3000

DATABASE_URL=postgresql://USER:PASSWORD@neon-host/db?sslmode=require
DIRECT_URL=postgresql://USER:PASSWORD@neon-host/db?sslmode=require

PGVECTOR_EXTENSION=pgvector
ARCJET_KEY=ajkey_xxxxx
INNGEST_EVENT_KEY=inngest_event_xxxxx
INNGEST_SIGNING_KEY=inngest_sign_xxxxx

GEMINI_API_KEY=AIzaSy...xxxx
GOOGLE_API_KEY=AIzaSy...xxxx

NODEMAILER_SMTP_HOST=smtp.gmail.com
NODEMAILER_SMTP_PORT=465
NODEMAILER_USER=alerts@spendix.app
NODEMAILER_PASS=app-specific-password
EMAIL_ALERT_FROM="Spendix Alerts <alerts@spendix.app>"
```

### Useful Scripts

- `pnpm dev` ‚Äî Next.js dev server with hot reload.
- `pnpm lint` ‚Äî ESLint across the monorepo.
- `pnpm build` ‚Äî Production bundle with type checks.
- `pnpm inggest` ‚Äî Launch inggest dev server.
- `pnpm webhook` ‚Äî Expose localhost via ngrok for Clerk webhooks.
- `pnpm start` ‚Äî Launch compiled output.
- `pnpm format` / `pnpm format:check` ‚Äî Prettier helpers.

## Operational Notes

- **Bank Statement Imports** deduplicate by account, institution, amount, and timestamp windows before persisting.
- **Budget Alerts** evaluate soft (75%) and hard (100%+) thresholds with context-specific advice in every email.
- **AI Memory** batches LangGraph recaps so embeddings stay fresh and storage lean.
- **Bot Defense** leans on Arcjet fingerprints, rate ceilings, and challenge flows to protect APIs and server actions.

## Roadmap

- Predictive cashflow forecasting and anomaly detection.
- Direct bank connections (Plaid, Teller, Belvo) feeding AI imports.
- Shared workspaces (family / teams) with scoped permissions.
- Tax-ready exports and advanced reporting packages.

## Author

**Pritam Maity ‚Äî Full-Stack & AI Engineer**  
üîó [https://spedix.app](https://spedix.app)

Always open to collaboration, code reviews, or deep dives into Spendix‚Äôs architecture‚Äîreach out!
